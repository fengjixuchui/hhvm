<?hh // strict
<<file: __EnableUnstableFeatures('coeffects_provisional')>>
function foo(): (function(float):mixed) {
  $f = $x ==> $x;
  if (count(varray[])) {
    $f = fun('log1p');
  }
  return $f;
}
